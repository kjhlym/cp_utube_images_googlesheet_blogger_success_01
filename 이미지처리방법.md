<img alt="ìš”ë„¥ìŠ¤ íŒ€ìŠ¤ë§¤ì‹œ (290g) ë‚¨ì„± ì´ˆë³´ì ì¤‘ê¸‰ì í…Œë‹ˆìŠ¤ë¼ì¼“ í…Œë‹ˆìŠ¤ì±„ í™”ì´íŠ¸ 1ê°œ" height="auto" loading="lazy" onerror="this.onerror=null;this.src='https://via.placeholder.com/200x200?text=No+Image';" src="https://via.placeholder.com/200x200?text=No+Image" title="ìš”ë„¥ìŠ¤ íŒ€ìŠ¤ë§¤ì‹œ (290g) ë‚¨ì„± ì´ˆë³´ì ì¤‘ê¸‰ì í…Œë‹ˆìŠ¤ë¼ì¼“ í…Œë‹ˆìŠ¤ì±„ í™”ì´íŠ¸ 1ê°œ" width="200"> ë¸Œë¼ìš°ì €ì— ìœ„ì™€ ê°™ì´ ë˜ì–´ ìˆìœ¼ë‚˜ ì´ë¯¸ì§€ê°€ ë³´ì´ë¦´ ì•Šì•„

Thought Process
ë¸”ë¡œê·¸ì— ì¿ íŒ¡ ì´ë¯¸ì§€ê°€ ë³´ì´ì§€ ì•ŠëŠ” ë¬¸ì œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì¿ íŒ¡ ì¸¡ì—ì„œ ì„¤ì •í•œ CORS(Cross-Origin Resource Sharing) ì œí•œ ë•Œë¬¸ì…ë‹ˆë‹¤. ì¿ íŒ¡ì˜ ads-partners.coupang.com ë„ë©”ì¸ì€ ì™¸ë¶€ ì‚¬ì´íŠ¸(Blogger)ì—ì„œ ì§ì ‘ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒì„ ì°¨ë‹¨í•˜ê³  ìˆì–´ì„œ ëŒ€ì²´ ì´ë¯¸ì§€(placeholder)ê°€ í‘œì‹œë˜ê³  ìˆìŠµë‹ˆë‹¤.
ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ëª‡ ê°€ì§€ ë°©ë²•ì„ ì‹œë„í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
# generate_html í•¨ìˆ˜ì—ì„œ ì´ë¯¸ì§€ URL ì²˜ë¦¬ ë¶€ë¶„ ìˆ˜ì •
product_image = data_list[i]['productImage']

# Google ì´ë¯¸ì§€ í”„ë¡ì‹œ ì‚¬ìš©
product_image = f"https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?container=focus&refresh=2592000&url={urllib.parse.quote(product_image)}"


í•´ê²° ë°©ë²• 2: Base64 ì¸ì½”ë”© ì‚¬ìš©í•˜ê¸°
ì´ë¯¸ ì½”ë“œì— ìˆëŠ” encode_image_to_base64 í•¨ìˆ˜ë¥¼ í™œìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ Base64ë¡œ ì¸ì½”ë”©í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
# generate_html í•¨ìˆ˜ì—ì„œ ì´ë¯¸ì§€ URL ì²˜ë¦¬ ë¶€ë¶„ ìˆ˜ì •
product_image = data_list[i]['productImage']
base64_image = encode_image_to_base64(product_image)
if base64_image:
    product_image = base64_image

í•´ê²° ë°©ë²• 3: ì¿ íŒ¡ CDN URL íŒ¨í„´ ì‚¬ìš©í•˜ê¸°
ì¿ íŒ¡ ì´ë¯¸ì§€ëŠ” t1a.coupangcdn.com ë„ë©”ì¸ì„ í†µí•´ì„œë„ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë„ë©”ì¸ì€ CORS ì œí•œì´ ëœí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
# ì´ íŒ¨í„´ì„ ì‹œë„í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤
product_id = data_list[i].get('productId', '')
if product_id:
    # retail/images ê²½ë¡œ ì‹œë„
    product_image = f"https://t1a.coupangcdn.com/thumbnails/remote/200x200ex/image/retail/images/{product_id}.jpg"



====================================================================

ìˆ˜ì •ëœ ì½”ë“œ êµ¬í˜„í•˜ê¸°
ìœ„ì˜ ë°©ë²• ì¤‘ Google ì´ë¯¸ì§€ í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ê°€ì¥ ì•ˆì •ì ì´ê³  êµ¬í˜„í•˜ê¸° ì‰¬ìš´ ë°©ë²•ì…ë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ìˆ˜ì •í•´ë³´ì„¸ìš”:
# ... existing code ...

### ê²€ìƒ‰ëœ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ì„¤ì •í•œ ê°¯ìˆ˜ ë§Œí¼ ë°˜ë³µí•˜ì—¬ += ê¸°í˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë„ì…ë¶€ ë©˜íŠ¸ì— ì¶”ê°€í•©ë‹ˆë‹¤.
for i in range(min(10, len(data_list))):   ### 10ê°œ ë¦¬ìŠ¤íŠ¸ë§Œ ì •ë¦¬
    try:
        product_name = data_list[i]['productName']
        product_url = data_list[i]['productUrl']
        
        # APIì—ì„œ ì œê³µí•œ ì´ë¯¸ì§€ URLì„ ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜´
        original_image = data_list[i]['productImage']
        
        # Google ì´ë¯¸ì§€ í”„ë¡ì‹œ ì‚¬ìš© (CORS ìš°íšŒ)
        product_image = f"https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?container=focus&refresh=2592000&url={urllib.parse.quote(original_image)}"
        
        # Fallback ì´ë¯¸ì§€ë¡œ Base64 ì¸ì½”ë”© ì‹œë„ (í•„ìš” ì‹œ ì£¼ì„ í•´ì œ)
        # base64_image = encode_image_to_base64(original_image)
        # if base64_image:
        #     product_image = base64_image
        
        print(f"Product {i+1}:")
        print(f"Name: {product_name}")
        print(f"URL: {product_url}") 
        print(f"Original Image: {original_image[:60]}...")
        print(f"Proxy Image: {product_image[:60]}...")
        print("-" * 50)
        
        ### ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ - ì´ë¯¸ì§€ í”„ë¡ì‹œ ì‚¬ìš© ë° ë°±ì—… ì´ë¯¸ì§€ URL ì„¤ì •
        html_content += f"""
        <div class="cup-list">
            <div class="product-name">
                <h3>ğŸ” ê²€ìƒ‰ê²°ê³¼ [{i + 1}]</h3>
                <a href="{product_url}" target="_blank" rel="nofollow">â¡ï¸ {product_name}</a>
            </div>
            <div class="cup-img">
                <a href="{product_url}" target="_blank" rel="nofollow">
                    <img src="{product_image}" 
                        data-original="{original_image}"
                        alt="{product_name}" 
                        title="{product_name}"
                        width="200"
                        height="auto"
                        loading="lazy"
                        onerror="this.onerror=null; if(this.getAttribute('data-original')) {{this.src='https://wsrv.nl/?url=' + encodeURIComponent(this.getAttribute('data-original')); this.removeAttribute('data-original');}} else {{this.src='https://via.placeholder.com/200x200?text=No+Image';}}"
                    />
                </a>
            </div>
            <div class="product-price">
                ğŸ’° íŒë§¤ê°€: {format(data_list[i]['productPrice'], ',')}ì›
            </div>
            <div class="delivery-info">
                ğŸšš ë°°ì†¡: {'ğŸš€ ë¡œì¼“ë°°ì†¡' if data_list[i]['isRocket'] else 'ì¼ë°˜ë°°ì†¡'} 
                | {'âœ¨ ë¬´ë£Œë°°ì†¡' if data_list[i]['isFreeShipping'] else 'ìœ ë£Œë°°ì†¡'}
            </div>
        </div>
        """
    except Exception as e:
        print(f"ìƒí’ˆ {i+1} HTML ìƒì„± ì¤‘ ì˜¤ë¥˜: {str(e)}")
        continue

# ... existing code ...


<img src="https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?container=focus&amp;refresh=2592000&amp;url=https%3A//ads-partners.coupang.com/image1/xYP-2nPCF4fmDP4WxcOUu1Ob0YqOwRCGTGW1rjYhPGyvQR4SsNC063Y7EvRucfi8NdDDFQgeok12c-koabwU5-6ppPqvBi5wub3JjREahPtAV21te-uDk4MD2tsHzKGVitOqoKQoh3YxNkUN8CHHJDqSSTAC1ARTw-jv-Ndp9GqWOfMhuOdW9B4vicYO5QcuzkkEp_BPF_UYU4lN51gmeOsIaB64RiihtftvX-EJXeReo5SJvKXpdfULqAbR9bnIOh22l4d99tOUNeXV2CALLQNva45WR4__DT2SrX9g44J5VrXnR81CWkn1h9FTNcPeOI3ketK1xif3nfP0jOmB1cExC593tupjw4ebEfG1-cI%3D" aria-label="ê¸€ ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€" class="DMO9ie sRb2Nc">

<img src="https://lh3.googleusercontent.com/blogger_img_proxy/AEn0k_v0aMtEKAKy-bCRe8_WeoAyKUqlWN6efJ7Xkjt0VT5liOzRSqerXj7-zQoQJNyRSNWapq1eUoYl2PJz2dvjY_ftBIM1y_-roI5V7iafeaecZ3-WFACoSh_0u2_B1H42tmEEUzww9cnKDYVOKeToIKmaqAUmQ1EI4Yb2zh7qhAdsY1x9pJpRBdSW08F_vGwKdRWiQGaKUMICb6_6g2ANEVlC5dGFdAhNtVWKMimVOsF1uznB4PAoqFl8EoAlI7T_xIgOU07nSIsYS9zVV3IjT2PojBnjIqNc-QoYKyYxv0uXWbJ4RrDWsZXZMuGjUcqv1RrpNXaBeBEMFRl8Y311gd5_ZDEtr33YjIyLqd-VPzpyR_aghAw2goEADtIY4VEsnCi29ITsrqs2RgHKe9sAD1Ey8yTavogxKJ9dfKgELnbKy-xdoJ_uh0W3YM110YAfu3TXdVJ64r_rjx2uTs2b6NXK_QPdiGOlVbi4SQTebfZ-Map0P5D1bNUZLaiHRSo4L2q9MGysUGmuQ4fI-GeGvgA7jspBNnvufGtE4wsgHFGGwI9143UZKRdD6mcmfg=w72-c-h64" aria-label="ê¸€ ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€" class="DMO9ie sRb2Nc" data-iml="36610.89999999851">